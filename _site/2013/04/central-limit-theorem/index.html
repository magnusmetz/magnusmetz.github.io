
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="author" content="Magnus Metz" />
    <meta name="citation_title" content="Demonstration of the Central Limit Theorem">
    <meta name="citation_author" content="">
    <meta name="citation_publication_date" content="2013/04/15">
    <meta name="citation_journal_title" content="Magnus Metz">
    <title>Demonstration of the Central Limit Theorem | Vistat</title>

    <link href="/feed/" rel="alternate" title="Magnus Metz" type="application/atom+xml" />
    <link rel="stylesheet" href="/assets/themes/dinky/css/styles.css">
    <link rel="stylesheet" href="/assets/themes/dinky/css/pygment_trac.css">
    <script src="/assets/themes/dinky/js/scale.fix.js"></script>
    
    <link rel="stylesheet" href="/assets/themes/dinky/css/scianimator.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="/assets/themes/dinky/js/jquery.scianimator.min.js"></script>
    
    <script src="https://c328740.ssl.cf1.rackcdn.com/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        processEscapes: true
      }
    });
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header"><a href="/">Magnus Metz</a></h1>
        <p class="header">Blog</p>
        <ul>
          
          
          


  
    
      
      	
      	<li><a href="/about.html">About</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/archive.html">Archive</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/categories.html">Categories</a></li>
      	
      
    
  
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/tags.html">Tags</a></li>
      	
      
    
  



          <li><a href="/feed/">RSS</a></li>
        </ul>
        
        
        <div class="misc vcard">
          <h4>contact</h4>
          <ul>
            
            <li class="contact"><address><span class="fn email">metz.magnus@gmail.com</span></address></li>
            
            
            <li class="github"><a href="http://github.com/magnusmetz/" rel="me">github.com/magnusmetz</a></li>
            
            
            <li class="twitter"><a href="http://twitter.com/metz_magnus/" rel="me">twitter.com/metz_magnus</a></li>
            
            
          </ul>
        </div><!-- misc -->
        
      </header>

      <section>
      
<section>
  <h1>Demonstration of the Central Limit Theorem</h1>
  <ul class="author">
  
    <li>
    Please specify author information for yulijia in <a href="https://github.com/supstat/vistat/blob/gh-pages/_config.yml">_config.yml</a>.
    </li>
  
  </ul>
  
<p>In <a href="http://en.wikipedia.org/wiki/Probability_theory">Probability Theory</a>, the <a href="http://en.wikipedia.org/wiki/Central_limit_theorem">Central Limit
Theorem (CLT)</a> states that, given certain
conditions, the mean of a sufficiently large number of independent random variables, each with a
well-defined mean and well-defined variance, will be approximately normally distributed.</p>

<p>As shown in the <a href="/2013/04/bean-machine/">Bean Machine</a> article, CLT has a number of variants. This
article shows you as long as the conditions of CLT are satisfied, the distribution of the sample
mean will be approximate to the Normal distribution when the sample size n is large enough, no
matter what is the original distribution.</p>

<p>In the <a href="http://yihui.name/animation"><strong>animation</strong> package</a>, there is a function named <code>clt.ani()</code>.
It shows the distribution of the sample mean when the sample size <script type="math/tex">n</script> grows up. The test
<code>shapiro.test()</code> is provided as a measure of normality.</p>

<h2 id="classical-central-limit-theorem">Classical Central Limit Theorem</h2>

<p>With the parameter <code>FUN</code> in the function <code>clt.ani()</code> you can select distribution which will be
shown in the animation. Here is the example with the <a href="http://en.wikipedia.org/wiki/Poisson_distribution">Poisson
distribution</a>.</p>

<div class="highlight"><pre><code class="r">library<span class="p">(</span>animation<span class="p">)</span>
ani.options<span class="p">(</span>interval <span class="o">=</span> <span class="m">0.5</span><span class="p">)</span>
par<span class="p">(</span>mar <span class="o">=</span> c<span class="p">(</span><span class="m">3</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">0.5</span><span class="p">),</span> mgp <span class="o">=</span> c<span class="p">(</span><span class="m">1.5</span><span class="p">,</span> <span class="m">0.5</span><span class="p">,</span> <span class="m">0</span><span class="p">),</span> tcl <span class="o">=</span> <span class="m">-0.3</span><span class="p">)</span>
lambda <span class="o">=</span> <span class="m">4</span>
f <span class="o">=</span> <span class="kr">function</span><span class="p">(</span>n<span class="p">)</span> rpois<span class="p">(</span>n<span class="p">,</span> lambda<span class="p">)</span>
clt.ani<span class="p">(</span>FUN <span class="o">=</span> f<span class="p">,</span> mean <span class="o">=</span> lambda<span class="p">,</span> sd <span class="o">=</span> lambda<span class="p">)</span></code></pre></div>

<div class="scianimator">
<div id="poisson_clt" style="display: inline-block;">
</div>
</div>
<script type="text/javascript">
  (function($) {
    $(document).ready(function() {
      var imgs = Array(50);
      for (i=0; ; i++) {
        if (i == imgs.length) break;
        imgs[i] = "/figures/2013-04-15-central-limit-theorem/poisson-clt" + (i + 1) + ".png";
      }
      $("#poisson_clt").scianimator({
          "images": imgs,
          "delay": 500,
          "controls": ["first", "previous", "play", "next", "last", "loop", "speed"],
      });
      $("#poisson_clt").scianimator("play");
    });
  })(jQuery);
</script>

<h2 id="when-clt-does-not-work">When CLT does not work</h2>

<p>The <a href="http://en.wikipedia.org/wiki/Cauchy_distribution">Cauchy distribution</a> is an example of a
distribution which has no mean, variance or higher moments defined, so we cannot apply CLT to this
distribution.</p>

<div class="highlight"><pre><code class="r">ani.options<span class="p">(</span>interval <span class="o">=</span> <span class="m">0.5</span><span class="p">)</span>
par<span class="p">(</span>mar <span class="o">=</span> c<span class="p">(</span><span class="m">3</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">0.5</span><span class="p">),</span> mgp <span class="o">=</span> c<span class="p">(</span><span class="m">1.5</span><span class="p">,</span> <span class="m">0.5</span><span class="p">,</span> <span class="m">0</span><span class="p">),</span> tcl <span class="o">=</span> <span class="m">-0.3</span><span class="p">)</span>
f <span class="o">=</span> <span class="kr">function</span><span class="p">(</span>n<span class="p">)</span> rcauchy<span class="p">(</span>n<span class="p">,</span> location <span class="o">=</span> <span class="m">0</span><span class="p">,</span> scale <span class="o">=</span> <span class="m">2</span><span class="p">)</span>
clt.ani<span class="p">(</span>FUN <span class="o">=</span> f<span class="p">,</span> mean <span class="o">=</span> <span class="kc">NA</span><span class="p">,</span> sd <span class="o">=</span> <span class="kc">NA</span><span class="p">)</span></code></pre></div>

<div class="scianimator">
<div id="cauchy_clt" style="display: inline-block;">
</div>
</div>
<script type="text/javascript">
  (function($) {
    $(document).ready(function() {
      var imgs = Array(50);
      for (i=0; ; i++) {
        if (i == imgs.length) break;
        imgs[i] = "/figures/2013-04-15-central-limit-theorem/cauchy-clt" + (i + 1) + ".png";
      }
      $("#cauchy_clt").scianimator({
          "images": imgs,
          "delay": 500,
          "controls": ["first", "previous", "play", "next", "last", "loop", "speed"],
      });
      $("#cauchy_clt").scianimator("play");
    });
  })(jQuery);
</script>


  <div class="meta">
    <h3>Meta</h3>
    Keywords:
    <ul class="tag_box inline">
        
      


  
     
    	<li><a href="/tags.html#Central Limit Theorem-ref">Central Limit Theorem <span>2</span></a></li>
     
    	<li><a href="/tags.html#Poisson distribution-ref">Poisson distribution <span>1</span></a></li>
     
    	<li><a href="/tags.html#Cauchy distribution-ref">Cauchy distribution <span>1</span></a></li>
    
  



    </ul>
    Categories:
    <ul class="tag_box inline">
      
      


  
     
    	<li><a href="/categories.html#animation-ref">
    		animation <span>24</span>
    	</a></li>
     
    	<li><a href="/categories.html#probability-ref">
    		probability <span>5</span>
    	</a></li>
    
  


    </ul>
    
    Reviewer:
    <ul class="tag_box inline">
    
      <li><a href=""></a></li>
    
    </ul>
    
    You can find the R Markdown source document in the <a href="https://github.com/supstat/vistat/tree/gh-pages/_source/2013-04-15-central-limit-theorem.Rmd">vistat repository</a> on GitHub.
  </div>
  


  <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_developer = 1;
    var disqus_shortname = 'magnusmetz'; // required: replace example with your forum shortname
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>




</section>
<script type="text/javascript">
document.onkeydown = function(e) {
  if (e.target.nodeName.toUpperCase() != 'BODY') return;
  var url = false;
  if (e.which == 37 || e.which == 74) {  // Left arrow and J
  
  url = '/2013/04/bean-machine';
  
  } else if (e.which == 39 || e.which == 75) {  // Right arrow and K
  
  url = '/2013/04/buffons-needle';
  
  }
  if (url) {
      window.location = url;
  }
};
</script>


      </section>
      <div class="banner"><a href="https://github.com/supstat/vistat"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub"></a></div>

    </div>
    <!--[if !IE]><script>fixScale(document);</script><!--<![endif]-->
  </body>
</html>

